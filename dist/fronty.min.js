!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.Fronty=b():a.Fronty=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.i=function(a){return a},b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=0)}([function(module,exports,__webpack_require__){"use strict";function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Component=function(){function Component(a,b,c){_classCallCheck(this,Component),this.renderer=a,this.htmlNodeId=b,this.childTags=c||[],this._childTagsCanonical=this.childTags.map(function(a){return a.toUpperCase()}),this.stopped=!0,this.eventListeners=[],this.childComponents=[],this.childComponentIds={},this._boundEventsListener=this._eventsListener.bind(this),this._previousVirtualDOM=null,this._nodesWithFrontyComponentAttribute=[],this._nodesWithCustomTag=[],this._parsingService=Component._defaultParsingService}return _createClass(Component,[{key:"getHtmlNodeId",value:function(){return this.htmlNodeId}},{key:"setHtmlNodeId",value:function(a){this.htmlNodeId=a,this._resetVirtualDOM()}},{key:"addChildComponent",value:function(a){this.childComponents.push(a),this.childComponentIds[a.getHtmlNodeId()]=a,this.stopped?a.stop():a.start()}},{key:"createChildComponent",value:function createChildComponent(className,element,id){var constructorFunction=eval(""+className);if(constructorFunction instanceof Function)return new constructorFunction(id)}},{key:"removeChildComponent",value:function(a){var b=this.childComponents.indexOf(a);-1!=b&&(this.childComponents[b].stop(),this.childComponents.splice(b,1),delete this.childComponentIds[a.getHtmlNodeId()]),this.render()}},{key:"getChildComponents",value:function(){return this.childComponents}},{key:"getChildComponentsById",value:function(){return this.childComponentIds}},{key:"getChildComponent",value:function(a){return this.childComponentIds[a]}},{key:"render",value:function(){var a=this;if(!0!==this.rendering&&!this.stopped&&this.htmlNodeId&&null!==this._getComponentNode()){this.rendering=!0,this.beforeRender();var b=this._saveChildNodes(),c=this.renderer();this._getDOMFromRendererOutput(c,function(c){var d=null===a._previousVirtualDOM;a._renderNewTree(c),a._restoreChildNodes(b),d&&a._updateEventListeners(),a._createChildComponents(),a.afterRender(),a.rendering=!1})}}},{key:"stop",value:function(){if(!1===this.stopped){this.stopped=!0;for(var a=0;a<this.childComponents.length;a++){this.childComponents[a].stop()}}this.onStop()}},{key:"start",value:function(){if(this.stopped){this.stopped=!1,this._resetVirtualDOM(),this.render();for(var a=0;a<this.childComponents.length;a++){this.childComponents[a].start()}}this.onStart()}},{key:"addEventListener",value:function(a,b,c){this.eventListeners.push({query:b,callback:c,eventType:a}),null!==this._getComponentNode()&&(this._getComponentNode().removeEventListener(a,this._boundEventsListener),this._getComponentNode().addEventListener(a,this._boundEventsListener))}},{key:"beforeRender",value:function(){}},{key:"afterRender",value:function(){}},{key:"onStart",value:function(){}},{key:"onStop",value:function(){}},{key:"_renderNewTree",value:function(a){var b=this,c=null===this._previousVirtualDOM,d=null;if(c)for(d=this._getComponentNode();d.firstChild;)d.removeChild(d.firstChild);else d=this._previousVirtualDOM.firstChild;a.nodeType===Node.ELEMENT_NODE&&a.setAttribute("id",this.getHtmlNodeId());var e=TreeComparator.diff(d,a,function(a,d){return c?TreeComparator.COMPARE_POLICY_REPLACE:a.id&&d.id&&a.id===d.id&&void 0!==b.childComponentIds[a.id]?TreeComparator.COMPARE_POLICY_ATTRIBUTES:!a.id||d.id&&d.id===a.id||void 0===b.childComponentIds[a.id]?TreeComparator.COMPARE_POLICY_DIFF:TreeComparator.COMPARE_POLICY_REPLACE});c?(this._previousVirtualDOM=document.createElement("div"),this._previousVirtualDOM.appendChild(a)):TreeComparator.applyPatches(e),TreeComparator.applyPatches(e,function(a){return a.toReplace.id&&void 0!==a.replacement&&a.replacement.id&&a.toReplace.id===a.replacement.id&&void 0!==b.childComponentIds[a.toReplace.id]?null:(a.toReplace=b._resolveRealNode(a.toReplace),a.mode===TreeComparator.PATCH_INSERT_NODE||a.mode===TreeComparator.PATCH_APPEND_CHILD||a.mode===TreeComparator.PATCH_REPLACE_NODE?a.replacement=b._cloneAndIndex(a.replacement):a.mode===TreeComparator.PATCH_SWAP_NODES&&(a.replacement=b._resolveRealNode(a.replacement)),a)})}},{key:"_getDOMFromRendererOutput",value:function(a,b){if("string"==typeof a){a=this.renderer().trim();var c=a;null!==a.match(/^<tr .*/i)?c="<table><tbody>"+a+"</tbody></table>":null!==a.match(/^<t[dh] .*/i)&&(c="<table><tbody><tr>"+a+"</tr></tbody></table>");var d=document.createElement("div");this._parsingService.parse(c,function(c){if(null!==a.match(/^<tr .*/i)?d.appendChild(c.firstChild.firstChild):null!==a.match(/^<t[dh] .*/i)?d.appendChild(c.firstChild.firstChild.firstChild):d.appendChild(c),d.childNodes.length>1)throw"Rendering function MUST return a tree with a single root element "+d.innerHTML;b(d.firstChild)})}else b(a)}},{key:"_resolveRealNode",value:function(a){if(void 0!==a.id&&void 0!==this.childComponentIds[a.id])return document.getElementById(a.id);var b=a.realNode;return(null===b||void 0===b&&void 0!==a.id)&&(b=document.getElementById(a.id)),b}},{key:"_resetVirtualDOM",value:function(){this._previousVirtualDOM=null,this._nodesWithFrontyComponentAttribute=[],this._nodesWithCustomTag=[]}},{key:"_restoreChildNodes",value:function(a){for(var b=0;b<this.childComponents.length;b++){var c=this.childComponents[b],d=c.getHtmlNodeId();if(null!==this._getChildNode(d)&&void 0!==a[d]){var e=this._getChildNode(d);a[d]!=e&&e.parentNode.replaceChild(a[d],e)}}}},{key:"_saveChildNodes",value:function(){for(var a={},b=0;b<this.childComponents.length;b++){var c=this.childComponents[b],d=c.getHtmlNodeId();null!==this._getChildNode(d)&&(a[d]=this._getChildNode(d))}return a}},{key:"_getComponentNode",value:function(){return document.getElementById(this.getHtmlNodeId())}},{key:"_getChildNode",value:function(a){return document.getElementById(a)}},{key:"_cloneAndIndex",value:function(a){var b=a.cloneNode();if(a.realNode=b,a.nodeType===Node.ELEMENT_NODE)if(a.hasAttribute("fronty-component"))a.componentClass=a.getAttribute("fronty-component"),this._nodesWithFrontyComponentAttribute.push(a);else{var c=this._childTagsCanonical.indexOf(a.tagName.toUpperCase());-1!==c&&(a.componentClass=this.childTags[c],this._nodesWithCustomTag.push(a))}for(var d=0;d<a.childNodes.length;d++)b.appendChild(this._cloneAndIndex(a.childNodes[d]));return b}},{key:"_createChildComponents",value:function(){this._createDynamicChildComponents(this._nodesWithCustomTag),this._createDynamicChildComponents(this._nodesWithFrontyComponentAttribute)}},{key:"_createDynamicChildComponents",value:function(a){var b=new Component.BufferedParsingService;b.start();for(var c=a.length-1;c>=0;c--){var d=a[c],e=d.getAttribute("id"),f=d.componentClass;if(null!==document.getElementById(e))this._createOrUpdateChildComponent(f,d,e,b);else{a.splice(c,1);var g=this.getChildComponent(e);void 0!==g&&this.removeChildComponent(g)}}b.finish()}},{key:"_createOrUpdateChildComponent",value:function(a,b,c,d){this.getChildComponent(c)?this.updateChildComponent(a,b,c,d):this._createAndAddChildComponent(a,b,c,d)}},{key:"updateChildComponent",value:function(a,b,c,d){}},{key:"_createAndAddChildComponent",value:function(a,b,c,d){var e=this.createChildComponent(a,b,c);if(e){e.setHtmlNodeId(c);var f=e._parsingService;e._parsingService=d,this.addChildComponent(e),e._parsingService=f}}},{key:"_eventsListener",value:function(a){for(var b=0;b<this.eventListeners.length;b++){var c=this.eventListeners[b];if(a.target.matches(c.query)&&c.eventType===a.type)return a.preventDefault(),void c.callback(a)}}},{key:"_updateEventListeners",value:function(){var a=this._getComponentNode();if(null!==a)for(var b=0;b<this.eventListeners.length;b++){var c=this.eventListeners[b];a.removeEventListener(c.eventType,this._boundEventsListener),a.addEventListener(c.eventType,this._boundEventsListener)}}}]),Component}();Component.ParsingService=function(){function a(){_classCallCheck(this,a)}return _createClass(a,[{key:"parse",value:function(a,b){var c=document.createElement("div");c.innerHTML=a,b(c.firstChild)}}]),a}(),Component.BufferedParsingService=function(a){function b(){_classCallCheck(this,b);var a=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.currentHTML="",a.counter=0,a.callbacks=[],a}return _inherits(b,a),_createClass(b,[{key:"start",value:function(){this.counter=0,this.currentHTML="",this.callbacks=[]}},{key:"finish",value:function(){if(this.callbacks.length>0){this.parsedTree=document.createElement("div"),this.parsedTree.innerHTML=this.currentHTML;for(var a=0;a<this.callbacks.length;a++){(0,this.callbacks[a])()}}}},{key:"parse",value:function(a,b){var c=this;this.currentHTML+="<div>"+a+"</div>";var d=this.counter;this.callbacks.push(function(){b(c.parsedTree.childNodes[d].firstChild)}),this.counter++}}]),b}(Component.ParsingService),Component._defaultParsingService=new Component.ParsingService;var TreeComparator=function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"diff",value:function(b,c,d){if(d){var e=d(b,c);if(e===a.COMPARE_POLICY_SKIP)return[];if(e===a.COMPARE_POLICY_ATTRIBUTES)return a._equalAttributes(b,c)?[]:[{mode:a.PATCH_SET_ATTRIBUTES,toReplace:b,replacement:c}];if(e===a.COMPARE_POLICY_REPLACE)return[{mode:a.PATCH_REPLACE_NODE,toReplace:b,replacement:c}]}var f=[];return null===b||b.tagName!==c.tagName||b.nodeType!==c.nodeType?[{mode:a.PATCH_REPLACE_NODE,toReplace:b,replacement:c}]:((b.hasChildNodes()||c.hasChildNodes())&&a._compareChildren(b,c,d,f),b.nodeType!==Node.TEXT_NODE&&b.nodeType!==Node.COMMENT_NODE||null===b.nodeValue||null===c.nodeValue||b.nodeValue===c.nodeValue?(a._equalAttributes(b,c)||f.push({mode:a.PATCH_SET_ATTRIBUTES,toReplace:b,replacement:c}),f):[{mode:a.PATCH_SET_NODE_VALUE,toReplace:b,replacement:c}])}},{key:"_compareChildren",value:function(b,c,d,e){for(var f=0,g=0,h=0,i=0,j=[],k=a._buildChildrenKeyIndex(b),l=a._buildChildrenKeyIndex(c);f<b.childNodes.length&&g<c.childNodes.length;){var m=j[f]?j[f]:b.childNodes[f],n=c.childNodes[g];if(m.nodeType===Node.ELEMENT_NODE&&n.nodeType===Node.ELEMENT_NODE){var o=m.getAttribute("key"),p=n.getAttribute("key");if(o!==p)if(void 0!==l[o]&&void 0!==k[p]){e.push({mode:a.PATCH_SWAP_NODES,toReplace:m,replacement:b.childNodes[k[p].pos]});var q=j[f]?j[f]:b.childNodes[f];j[f]=j[k[p].pos]?j[k[p].pos]:b.childNodes[k[p].pos],j[k[p].pos]=q}else void 0===k[p]&&(e.push({mode:a.PATCH_INSERT_NODE,toReplace:b,replacement:n,beforePos:f+h-i}),h++,g++),void 0===l[o]&&(e.push({mode:a.PATCH_REMOVE_NODE,toReplace:m}),f++,i++);else e.push.apply(e,a.diff(m,n,d)),f++,g++}else if(m.nodeType!==Node.ELEMENT_NODE&&n.nodeType===Node.ELEMENT_NODE)e.push({mode:a.PATCH_REMOVE_NODE,toReplace:m}),f++,i++;else if(m.nodeType===Node.ELEMENT_NODE&&n.nodeType!==Node.ELEMENT_NODE)e.push({mode:a.PATCH_INSERT_NODE,toReplace:b,replacement:n,beforePos:f+h-i}),h++,g++;else if(m.nodeType!==Node.ELEMENT_NODE&&n.nodeType!==Node.ELEMENT_NODE){var r=a.diff(m,n,d);e.push.apply(e,r),f++,g++}}if(f<b.childNodes.length)for(var s=f;s<b.childNodes.length;s++)e.push({mode:a.PATCH_REMOVE_NODE,toReplace:b.childNodes[s]});else if(g<c.childNodes.length)for(var t=g;t<c.childNodes.length;t++)e.push({mode:a.PATCH_APPEND_CHILD,toReplace:b,replacement:c.childNodes[t]})}},{key:"_swapArrayElements",value:function(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}},{key:"_buildChildrenKeyIndex",value:function(a){for(var b={},c=-1,d=0;d<a.childNodes.length;d++){var e=a.childNodes[d];if(c++,e.nodeType===Node.ELEMENT_NODE){var f=e.getAttribute("key");f&&(b[f]={node:e,pos:c})}}return b}},{key:"_equalAttributes",value:function(a,b){if(!a.hasChildNodes()&&!b.hasChildNodes())return a.isEqualNode(b);if(!a.attributes&&!b.attributes)return!0;if(!a.attributes&&b.attributes||a.attributes&&!b.attributes)return!1;if(a.attributes.length!==b.attributes.length)return!1;for(var c=0;c<a.attributes.length;c++)if(a.attributes[c].name!=b.attributes[c].name||a.attributes[c].value!=b.attributes[c].value)return!1;return!0}},{key:"_swapElements",value:function(a,b){var c=document.createElement("div");a.parentNode.insertBefore(c,a),b.parentNode.insertBefore(a,b),c.parentNode.insertBefore(b,c),c.parentNode.removeChild(c)}},{key:"applyPatches",value:function(b,c){for(var d=0;d<b.length;d++){var e=b[d];if(void 0===c||null!==(e=c(e))){var f=e.toReplace,g=e.replacement;switch(e.mode){case a.PATCH_SET_ATTRIBUTES:for(var h=null,i=0;i<g.attributes.length;i++)h=g.attributes[i],"value"===h.name&&f.value!=h.value&&(f.value=h.value),"checked"===h.name&&(f.checked=!1!==h.checked),f.hasAttribute(h.name)&&f.getAttribute(h.name)===h.value||f.setAttribute(h.name,h.value);for(var j=f.attributes.length-1;j>=0;j--)h=e.toReplace.attributes[j],g.hasAttribute(h.name)||("checked"===h.name&&(f.checked=!1),f.removeAttribute(h.name));break;case a.PATCH_SET_NODE_VALUE:e.toReplace.nodeValue=e.replacement.nodeValue;break;case a.PATCH_REMOVE_NODE:e.toReplace.parentNode.removeChild(e.toReplace);break;case a.PATCH_APPEND_CHILD:e.toReplace.appendChild(e.replacement);break;case a.PATCH_INSERT_NODE:e.toReplace.hasChildNodes()?e.toReplace.insertBefore(e.replacement,e.toReplace.childNodes[e.beforePos]):e.toReplace.appendChild(e.replacement);break;case a.PATCH_SWAP_NODES:a._swapElements(e.toReplace,e.replacement);break;case a.PATCH_REPLACE_NODE:f.parentNode.replaceChild(g,f)}}}}}]),a}();TreeComparator.PATCH_INSERT_NODE=0,TreeComparator.PATCH_REMOVE_NODE=1,TreeComparator.PATCH_SWAP_NODES=2,TreeComparator.PATCH_APPEND_CHILD=3,TreeComparator.PATCH_REPLACE_NODE=4,TreeComparator.PATCH_SET_NODE_VALUE=5,TreeComparator.PATCH_SET_ATTRIBUTES=6,TreeComparator.COMPARE_POLICY_SKIP=0,TreeComparator.COMPARE_POLICY_REPLACE=1,TreeComparator.COMPARE_POLICY_DIFF=2,TreeComparator.COMPARE_POLICY_ATTRIBUTES=3;var Model=function(){function a(b){_classCallCheck(this,a),this.observers=[],this.name=b||"--unnamed model--"}return _createClass(a,[{key:"set",value:function(a,b){a(this),this.notifyObservers(b)}},{key:"notifyObservers",value:function(a){for(var b=0;b<this.observers.length;b++){(0,this.observers[b])(this,a)}}},{key:"addObserver",value:function(a){this.observers.push(a)}},{key:"removeObserver",value:function(a){-1!=this.observers.indexOf(a)&&this.observers.splice(this.observers.indexOf(a),1)}}]),a}(),ModelComponent=function(_Component){function ModelComponent(a,b,c,d){_classCallCheck(this,ModelComponent);var e=_possibleConstructorReturn(this,(ModelComponent.__proto__||Object.getPrototypeOf(ModelComponent)).call(this,function(){return a(e._mergeModelInOneObject())},c,d));return e.setModel(b),e.updater=e.update.bind(e),e}return _inherits(ModelComponent,_Component),_createClass(ModelComponent,[{key:"update",value:function(a){this.render()}},{key:"stop",value:function(){if(!1===this.stopped)for(var a=0;a<this.models.length;a++){var b=this.models[a];b.removeObserver(this.updater)}_get(ModelComponent.prototype.__proto__||Object.getPrototypeOf(ModelComponent.prototype),"stop",this).call(this)}},{key:"start",value:function(){if(this.stopped)for(var a=0;a<this.models.length;a++){var b=this.models[a];b.addObserver(this.updater)}_get(ModelComponent.prototype.__proto__||Object.getPrototypeOf(ModelComponent.prototype),"start",this).call(this)}},{key:"setModel",value:function(a){var b=!1;if(a)if(a instanceof Model)void 0!==this.models&&1===this.models.length&&this.models[0]===a||(b=!0),this.models=[a];else{if(!(a instanceof Array))throw"Component ["+this.htmlNodeId+"]: the model must inherit Model";for(var c=0;c<a.length;c++){var d=a[c];if(!(d instanceof Model))throw"Component ["+this.htmlNodeId+"]: the model must inherit Model"}void 0!==this.models&&this.models===a||(b=!0),this.models=a}else void 0!==this.models&&0===this.models.length||(b=!0),this.models=[];b&&!1===this.stopped&&this.render()}},{key:"_mergeModelInOneObject",value:function(){for(var a={},b=0;b<this.models.length;b++){var c=this.models[b];a=Object.assign(a,c)}return a}},{key:"createChildComponent",value:function(a,b,c){var d=b.getAttribute("model"),e=this._evaluateModelAttribute(d),f=this.createChildModelComponent(a,b,c,e);return f.modelItemFromAttribute=e,f}},{key:"updateChildComponent",value:function(a,b,c,d){var e=this.getChildComponent(c),f=e.modelItemFromAttribute,g=b.getAttribute("model"),h=this._evaluateModelAttribute(g);f!==h&&(e.setModel(h),e.modelItemFromAttribute=h)}},{key:"createChildModelComponent",value:function createChildModelComponent(className,element,id,modelItem){var constructorFunction=eval(""+className);if(constructorFunction instanceof Function)return new constructorFunction(id,modelItem)}},{key:"_evaluateModelAttribute",value:function _evaluateModelAttribute(modelAtt){var oneModelObject=this._mergeModelInOneObject(),modelItem=null;if(-1===modelAtt.indexOf("(")){modelItem=oneModelObject;for(var arr=modelAtt.split(/[.\[\]]/);arr.length;){var elem=arr.shift();0!==elem.length&&(modelItem=modelItem[elem])}}else modelItem=eval("oneModelObject."+element.getAttribute("model"));return modelItem}}]),ModelComponent}(Component),RouterComponent=function(a){function b(a,c,d,e){_classCallCheck(this,b);var f=new Model("RouterModel");e instanceof Array?e.push(f):e=null!==e&&void 0!==e?[f,e]:f;var g=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,e,a));return g._routerModel=f,g.routes={},g._routerModel.currentPage=g._calculateCurrentPage(),g.pageHtmlId=d,window.addEventListener("hashchange",function(){g._routerModel.set(function(){g._routerModel.currentPage=g._calculateCurrentPage()})}),g}return _inherits(b,a),_createClass(b,[{key:"update",value:function(a){_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"update",this).call(this,a),a==this._routerModel&&this._goToCurrentPage()}},{key:"setRouterConfig",value:function(a){this.routes=a,this._routerModel.currentPage=this._calculateCurrentPage()}},{key:"onStart",value:function(){this._goToCurrentPage()}},{key:"goToPage",value:function(a){window.location.hash="#"+a}},{key:"getCurrentPage",value:function(){return this._routerModel.currentPage}},{key:"getRouterModel",value:function(){return this._routerModel}},{key:"getRouteQueryParam",value:function(a){var b=window.location.hash.replace(/#[^\?]*(\?.*)/,"$1");a=a.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null}},{key:"_calculateCurrentPage",value:function(){var a=window.location.hash.replace(/#([^\\?]*).*/,"$1");return 0===a.length&&this.routes.defaultRoute&&(a=this.routes.defaultRoute),a}},{key:"_goToCurrentPage",value:function(){var a=this.getCurrentPage();a&&void 0!==this.routes[a]&&(this.routes[a].title&&(document.title=this.routes[a].title),this.currentComponent&&this.currentComponent.stop(),this.removeChildComponent(this.currentComponent),this.currentComponent=this.routes[a].component,this.currentComponent.setHtmlNodeId(this.pageHtmlId),this.addChildComponent(this.currentComponent),this.routes[a].component.start())}}]),b}(ModelComponent);exports.Model=Model,exports.ModelComponent=ModelComponent,exports.Component=Component,exports.RouterComponent=RouterComponent,exports.TreeComparator=TreeComparator}])});